<!DOCTYPE HTML>
<html> 
<head>
	<title>Bulb</title>  
	<meta charset="utf-8" />
  	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<link rel="shortcut icon" href="favicon.ico" >
	<link rel="stylesheet" href="style/pietervanos.css" />
	<link rel="stylesheet" href="style/pietervanos.min.css" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.1/jquery.mobile.structure-1.3.1.min.css" />
	<link rel="stylesheet" href="DrawRectangle.css" />
	<link rel="stylesheet" href="style/landing.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
	<script type="text/javascript" src="Bulls.js"></script>
	<script type="text/javascript" src="Wildcat.js"></script>
	
	<script type="text/javascript" src="DrawRectangle.js"></script>
	<script src="//www.parsecdn.com/js/parse-1.3.1.min.js"></script>
</head>
<body>
	<div id="home" data-role="page" class="type-interior" data-theme="a">
		<div data-role="header" data-theme="a">
			<!--<div class="center-image"><h1>Bulb</h1></div>-->
		</div>
		<script>
		setTimeout( function ( ) { window.location.href = "#test"; }, 3000 );
		</script>
		<br />
		<!--<div class="center-image"><img src="style/images/logo.png" style="width:100%"></img></div>-->
		<div data-role="content" data-theme="a">
			<img id="icon" src="style/images/Bulb-logo-1.png">
			<img id="logo" src="style/images/Bulb-icon-1.png">
		</div>
	</div>

	<div id="test" data-role="page" class="type-interior" data-theme="a">
		<div data-role="header" data-theme="a">
			<!--<div class="center-image"><h1>Bulb</h1></div>-->
		</div>
		<br />
		<!--<div class="center-image"><img src="style/images/logo.png" style="width:100%"></img></div>-->
		<div data-role="content" data-theme="a">
				<a href="#slide" type="button" data-theme="a" data-transition="slide">Sporting Events</a>
				<a href="#slideup" type="button" data-theme="a" data-transition="slide">Concerts</a>
				<a href="#flip" type="button" data-theme="a" data-transition="slide">Timer Test</a>
			<br />
		</div>
	</div>

	<div id="slide" data-role="page" data-theme="a">
		<div data-role="header">
			<h1>Sporting Events</h1>
			<a data-icon="home" data-rel="back" style="margin-top:2px;">Home</a>
		</div>
		<div data-role="content" data-theme="a">	
			<h1></h1>
			<a href="#slidedown" type="button" data-theme="a" data-transition="pop">Northwestern Wildcats</a>
			<a href="#pop" type="button" data-theme="a" data-transition="pop">Chicago Bulls</a>
			<a href="#fade" type="button" data-theme="a" data-transition="pop">Chicago Blackhawks </a>
		</div>
	</div>

	<div id="slideup" data-role="page" data-theme="a">
		<div data-role="header">
			<h1>Concerts</h1>
			<a data-icon="home" data-rel="back" style="margin-top:2px;">Home</a>
		</div>
		<div data-role="content" data-theme="a">	
			<h1>Concert Lightshows<br> Trigger Testing</h1>
            <a type="button" data-theme="a" onclick="QueryServer()" data-transition="pop">Start Bulb</a>
		</div>
	</div>	
<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
		<script type="text/javascript">
        $(function() {
            var sizedWindowWidth = $(window).width();
            //$("#example").width(sizedWindowWidth);
            //$("#example").height(sizedWindowWidth);
 
            $("#canvasDraw").click(function(){
                var canvas = $("#example").get(0);
 
                if(canvas)
                {
                    var canvasContext = canvas.getContext('2d');
 
                    if(canvasContext)
                    {
                        //canvasContext.canvas.width  = sizedWindowWidth;
                        //canvasContext.canvas.height = sizedWindowWidth;

                        main();
                    }
                }
            });
        });
    </script>
		<div id="slidedown" data-role="page" data-theme="a">
		<div data-role="header">
			<h1>Go Wildcats!</h1>
			<a data-icon="back" data-rel="back" style="margin-top:2px;">Back</a>
		</div>
		<div data-role="content" data-theme="a" class="carrot">	
			<canvas id="example" >
		      Please use a browser that supports "canvas"
		    </canvas>
		    <input id="canvasDraw" type="button" value="Start Bulb" />
		</div>
	</div>	
<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
	<script type="text/javascript">
        $(function() {
            var sizedWindowWidth1 = $(window).width();
 
            //$("#example").width(sizedWindowWidth);
            //$("#example").height(sizedWindowWidth);
            $("#canvasDraw1").click(function(){
                var canvas1 = $("#example1").get(0);
 	
                if(canvas1)
                {
                    var canvasContext1 = canvas1.getContext('2d');
 
                    if(canvasContext1)
                    {
                        //canvasContext.canvas.width  = sizedWindowWidth;
                        //canvasContext.canvas.height = sizedWindowWidth;
                        BullsMain();
                    }
                }
            });
        });
    </script>
	<div id="pop" data-role="page" data-theme="a">
		<div data-role="header">
			<h1>Chicago Bulls</h1>
			<a data-icon="back" data-rel="back" style="margin-top:2px;">Back</a>
		</div>
		<div data-role="content" data-theme="a" class="carrot">	
			<canvas id="example1" >
		      Please use a browser that supports "canvas"
		    </canvas>
		    <input id="canvasDraw1" type="button" value="Start Bulb" />
		</div>
	</div>	
<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
		<div id="fade" data-role="page" data-theme="a">
		<div data-role="header">
			<h1>Blackhawks</h1>
			<a data-icon="back" data-rel="back" style="margin-top:2px;">Back</a>
		</div>
		<div data-role="content" data-theme="a">	
			<h1>Blackhawks Lightshow<br>coming soon!</h1>
		</div>
	</div>	
<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
	
    <script type="text/javascript">
    Parse.initialize("R1hjTepo1Qyv2WVVYxD6g5K2CVqqGIXPLjqPmsZF", "eLLqf2YbjLgt8aNvsQyasUIL2jTEgoBvCDH1bRmI");
    // function QueryServer2(){ 
    //       var BulbObj = Parse.Object.extend("Bulb") ;
    //       var bulbObj1 = new BulbObj();
    //       var ParseQuery = new Parse.Query(BulbObj);
    //       //alert("getState");
    //      ParseQuery.get("AbUQiOYkBN", {
    //       success: function(bulbObj1) {
    //         var result1 = bulbObj1.get("State");
    //         localStorage.setItem("StateResult",result1);
    //         alert(localStorage.getItem("StateResult"));
    //      }
    //      });
    // }

    function QueryServer(){
          var BulbObj = Parse.Object.extend("Bulb") ;
          var bulbObj1 = new BulbObj();
          var ParseQuery = new Parse.Query(BulbObj);
          //alert("getState");
         ParseQuery.get("AbUQiOYkBN", {
          success: function(bulbObj1) {
            var StateResult = bulbObj1.get("State");
            var TimeResult=  bulbObj1.get("TimeValue");
            if(StateResult == false){
                alert("The show hasn't started");
            }
            else{
                //get the million seconds since 1970
                var d = new Date();
                var userTimeMS = d.getTime();
                var timeOffset = userTimeMS - TimeResult;
                alert(timeOffset); 
                // alert("The show has started");
                // <a href="#pop" data-theme="a" data-transition="pop"></a>

            }
         }
         });  

    }


    </script>
		<div id="flip" data-role="page" data-theme="a">
		<div data-role="header">
			<h1>flip</h1>
			<a data-icon="home" data-rel="back" style="margin-top:2px;">Home</a>
		</div>
		<div data-role="content" data-theme="a">	
			<h1>Timer Test</h1>
      
		      <p><label>Pod #: <input type="text" id="pod" name="pod" value="1"></label></p>
		      
		      <p><button type="button" onclick="getPodOffset()">Get Offset</p>
		      <p><button type="button" onclick="resetTimer1()">Reset Timer</p>
		</div>
		<div data-role="footer">
			<div class="center-image"><h4><a href="http://www.pietervanos.net" data-theme="a" data-inline="true" style="color:white;" TARGET="_blank">Visit here our desktop webpage</a>
			<a href="http://www.pietervanos.net" class="madeby" target="_blank"><img src="pietervanos.png" class="ui-btn-right" alt="Made By Pieter" /></a></h4></div>
 
		</div>
	</div>
<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->	
</body>
</html>